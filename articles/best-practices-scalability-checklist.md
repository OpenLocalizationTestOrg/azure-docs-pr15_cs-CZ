<properties
   pageTitle="Kontrolní seznam škálovatelnost | Microsoft Azure"
   description="Škálovatelnost pokyny kontrolní seznam pro návrh pochybnosti pro neobsahovaly Azure text."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="scalability-checklist"></a>Kontrolní seznam škálovatelnost:

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="service-design"></a>Návrh služby
- **Oddíl pracovní zátěž**. Návrh části procesu samostatné a decomposable. Minimalizujte tak velikost jednotlivé části při sledování obvykle pravidla pro oddělení pochybnosti a principu jednoho zodpovědnost. Díky součásti rozdělí tak, aby maximalizuje použití každé výpočetní jednotky (například role či databázový server). Je taky usnadňuje měřítko aplikace přidáním výskyty určitého zdroje. Další informace najdete v tématu [Výpočet rozdělení pokyny](https://msdn.microsoft.com/library/dn589773.aspx).
- **Návrh pro změnu velikosti**. Škálování umožňuje aplikacím reagovat na proměnné zatížení zvětšením a zmenšit počet výskytů role, fronty a jiných služeb používají. Však aplikace musí být navrženy s tímto paměti. Například musí být aplikace a služby, které používá příslušnosti umožňuje požadavky na směrovány všechny instance. To také znemožňuje přidávání nebo odebírání konkrétní instance nepříznivě ovlivnily aktuálního uživatele. Měli byste taky implementovat konfiguraci nebo automatické rozpoznávání instancí při jejich přidávání a odebírání, takže kód v aplikaci můžete provádět potřebné směrování. Příklad webové aplikace pomocí sadu fronty při přístupu kruhového směrovat žádosti o služby na pozadí systém v jednotlivých rolích pracovníka. Webová aplikace musíte mít ke zjištění změn v počet fronty úspěšně směrování žádosti a vyrovnávání zatížení na aplikace.
- **Měřítko jako celek**. Vytvoření plánu pro další zdroje informací tak, aby zahrnoval geometrického. Pro jednotlivé zdroje vědět horním měřítka limity a pomocí sharding nebo rozložené dokonalejší tato omezení. Určení jednotkách systému z hlediska dobře definované sady zdrojů. Díky použití operace škálování jednodušší a menší chybám negativní vliv na aplikaci prostřednictvím omezením nedostatku prostředků v některé části celého systému. Například přidávání x počet web a pracovní role může vyžadovat další fronty počtu y a z počet úložiště účty zpracovávání další pracovní zátěž generovaných role. Aby měřítko jednotka může obsahovat x web a pracovní role, fronty _y_ a _z_ úložiště účty. Navrhněte aplikace tak, aby se snadno zachován přidáním jeden nebo více jednotkách.
- **Nepoužívejte spřažení**. Pokud je to možné, zajistit, že aplikace nevyžaduje spřažení. Může být požadavky na směrovány tak všechny instance a počet instancí je důležitá. To je také zabráněno režijních ukládání, načítání a správa informace o stavu pro každého uživatele.
- **Využijte výhod platformy neobsahovaly text**. Kde platformu hostingu podporuje neobsahovaly text funkce, například automatické Azure měřítko, budete chtít ho vlastní nebo jiných výrobců mechanismy Pokud předdefinovaných mechanismus nemůžete splnit vašim požadavkům. Pomocí plánované měřítka pravidel, kde jsou k dispozici neprodleně po spuštění možné zajistit zdroje, ale přidá informace neobsahovaly text pravidla, které jsou potřeba pro zvládnutí neočekávané změny služba. Operace neobsahovaly text můžete použít v rozhraní API služby správy upravit neobsahovaly text a přidání vlastních čítačů pravidel. Další informace najdete v tématu [Automatické měřítko pokyny](best-practices-auto-scaling.md).
- **Převzít náročné procesoru / / v úkoly, jako je úlohy na pozadí**. Pokud je žádost o službu trvá dlouho spuštění nebo zachycení značné zdroje, převzít zpracování tohoto požadavku na samostatných úkolů. Použít pracovníka rolí a úloh pozadí (podle toho, platformu hostingu) k provedení těchto úkolů. Tato strategie umožňuje službu i nadále další žádosti a ponechání kurzoru neodpovídá.  Další informace najdete v tématu [pokyny úlohy pozadí](best-practices-background-jobs.md).
- **Distribuovat pracovní zátěž pro úlohy na pozadí**. Kde jsou mnoho úlohy na pozadí nebo úkoly vyžaduje mnoho času nebo zdroje, roztáhněte práce mezi více výpočetním jednotky (například pracovníka rolí a úloh na pozadí). Jedním z možných řešení najdete v článku [Soutěží spotřebitele vzorku](https://msdn.microsoft.com/library/dn568101.aspx).
- **Vezměte v úvahu přesunutí směrem _sdílených není nic_ architektura**. Architektura sdílené není nic používá nezávislé, soběstačný uzly žádné konflikty (například sdílených služeb nebo úložiště) v jednom místě. Teoreticky takový systém zmenšit téměř donekonečna udržovat. Při přístupu plně sdílené-není nic není obecně praktické u většiny aplikací, stanovit příležitosti k návrhu pro lepší škálovatelnost. Například, že použití stavu serverovou relace, spřažení a rozdělování dat je dobré příkladů přesouvat směrem architekturu s sdílených není nic.

## <a name="data-management"></a>Správa dat

- **Použijte data rozdělení**. Rozdělení data mezi více databází a databáze servery nebo návrhové aplikace pro použití ukládání dat služby, které může poskytnout toto rozdělení transparentně (jako příklad lze uvést pružná databázi databáze SQL Azure a úložiště tabulek Azure). Tento postup můžou pomoct pro zvýšení výkonu a povolit jednodušší měřítka. Existují různé rozdělení technik, například vodorovné, svislé a funkční. Kombinace z těchto článků můžete dosáhnout maximální výhody z dotazu lepší výkon jednodušší škálovatelnost, flexibilnější správy, lepší dostupnost a podle druh úložiště dat, která bude obsahovat. Zvažte také pomocí různých typů úložiště dat pro různé typy dat, zvolte typy podle chod optimalizovaná pro konkrétní typ dat. Může se jednat pomocí úložiště tabulek, databázi dokumentu nebo úložiště řady sloupec dat, místo, nebo stejně jako relační databáze. Další informace najdete v tématu [rozdělení pokyny dat](best-practices-data-partitioning.md).
- **Návrh případné konzistence**. Případné konzistence zlepšit škálovatelnost zmenšení nebo odebráním dobu potřebnou k synchronizaci související data rozdělený napříč více ukládá. Náklady je, že data vždy konzistentní když je pro čtení a některá zápisy operace tuto chybu může způsobovat konflikty. Případné konzistence je ideální pro situacích, kdy stejných dat přečíst často ale napsali zřídka. Další informace najdete v tématu [Základy konzistence Data](https://msdn.microsoft.com/library/dn589800.aspx).
- **Zmenšení chatty interakce mezi součástí a služeb**. Vyhněte se navrhování interakcí, ve kterých je potřeba aplikaci k více volat do služby (přičemž každý z nich vrátí malou část dat), místo jedné volání, které můžete vrátit všechna data. Pokud je to možné, zkombinování několika souvisejících operací do jednoho požadavku při volání do služby nebo součásti, která byla nápadnější latence. Usnadňuje ke sledování výkonu a optimalizace složité operace. Například umožňuje uložené procedury v databázích zapouzdřit komplexní logiky a sníží počet zaokrouhlit cest a blokování zdrojů.
- **Použití fronty vyrovnat zatížení zápisy data vysokorychlostní**. Výkyvům v žádost o službu můžete overwhelm tuto službu a vést k chybám escalating. Chcete-li předejít, implementace [fronty základě vzorku vyrovnání načíst](https://msdn.microsoft.com/library/dn589783.aspx). Použití fronty, která funguje jako vyrovnávací paměť mezi úkolu a služba, která volá. To můžete hladce chybovému vysoké zatížení, které jinak mohou způsobit selhání služby nebo úkol časový limit.
- **Minimalizovat zatížení úložišti**. Úložiště dat je často zpracování kritický nákladné zdroje a rozšiřování často není snadné. Pokud je to možné, odeberte logiky (například zpracování dokumentů XML nebo objekty JSON) z úložiště dat a zpracování v aplikaci. Třeba místo předávání XML do databáze (jiné než jako řetězec neprůhledné úložištěm), serializovat nebo rekonstruovat XML ve vrstvě aplikací a předejte mu ve formuláři, který je nativní k úložišti. Je obvykle jednodušší rozšiřování aplikaci než úložiště dat, měli byste pokusit se co nejvíc zpracování náročné nejblíže v aplikaci.
- **Minimalizovat objemu dat načíst**. Obnovit jen tu část dat vyžadovat nastavení sloupců a vyberte řádky pomocí kritéria. Zkontrolujte použití tabulky hodnoty parametrů a úroveň izolace odpovídající. Použití mechanismy, například značky entity Chcete-li předejít zbytečně načítání dat.
- **Agresivní použít ukládání do mezipaměti**. Použití ukládání do mezipaměti možno zmenšit zatížení zdrojů a služby, které Generovat nebo předávat data. Ukládání do mezipaměti je obvykle hodí k datům, která je poměrně statické nebo vyžadující značnou zpracování získat. Ukládání do mezipaměti by měla proběhnout na všech úrovních, případně v každé vrstvy aplikace, včetně generování dat aplikace access a uživatelského rozhraní. Další informace najdete v tématu [Ukládání do mezipaměti pokyny](best-practices-caching.md).
- **Zpracování nárůstu dat a uchovávání informací**. Časem naroste množství dat uložených aplikací. Tento růst zvyšuje úložiště náklady a zvyšuje zpoždění při přístupu k datům, které má vliv na výkon aplikace a výkonu. Možné pravidelně archivovat některá data na původní už není dostupný, nebo přesunout data, která je jen zřídka k nim získat přístup do dlouhodobé úložiště další náklady efektivně, i když je vyšší latence přístup.
- **Optimalizace datového přepojit objektů (DTOs) pomocí efektivně binárním formátu**. DTOs předávají mezi vrstvy aplikace se opakovaně pokoušeli. Minimalizace velikost snižuje zatížení sítě a materiály. Však zůstatek úspor s režijních o převedení dat na požadovaný formát v každém umístění, kde se používá. Přijmout formátu, který obsahuje maximální interoperability umožňuje snadné opakované použití součásti.
- **Nastavení mezipaměti řízení**. Navrhněte a nakonfigurovat aplikaci pro použití ukládání výstupu do mezipaměti nebo fragmentu ukládání do mezipaměti, pokud je to možné, aby byl minimalizován zatížení.
- **Povolení mezipaměť klienta**. Webové aplikace umožňoval nastavení mezipaměti na obsah, který může být v mezipaměti. To je vypnutá, často ve výchozím nastavení. Konfigurace o doručení mezipaměť příslušný ovládací prvek záhlaví povolit ukládání do mezipaměti obsahu na proxy servery a klienti ze serveru.
- **Úložiště objektů blob Azure použití a Azure obsahu síť pro doručování zmenšit zatížení aplikace**. Zvažte ukládání statické nebo relativně statická veřejné obsah, například obrázky, zdrojů, skripty a stylů v úložišti objektů blob. Tento přístup zbavuje kterou přináší nutnost aplikace načíst způsobená dynamicky generování tento obsah pro každý požadavek. Kromě toho zvažte použití síť pro doručování obsahu do mezipaměti tento obsah a poskytovat klientům. Použití síť pro doručování obsahu dosáhnout zvýšení výkonu v klientském počítači vzhledem k tomu obsah dodávají geograficky nejbližšímu datacentru, která obsahuje síť pro doručování obsahu mezipaměti. Další informace najdete v tématu [Obsahu pokyny sítě doručení](best-practices-cdn.md).
- **Optimalizace a nastavit SQL dotazy a indexy**. Některé příkazy T SQL nebo konstrukce pravděpodobně dopad na výkon, který sníženy optimalizace kód v uložené procedury. Vyhněte se například převod typu **datetime** **datová** před porovnání s hodnotou literál typu **datum a čas** . Funkce data a času porovnání místo. Chybějící odpovídající indexy lze také zpomalit spuštění dotazu. Pokud používáte objektu/relační framework mapování, pochopit, jak to funguje a jak ji může ovlivnit výkon vrstvy přístupu k datům. Další informace najdete v tématu [Optimalizace dotazu](https://technet.microsoft.com/library/ms176005.aspx).
- **Vezměte v úvahu zrušte normalizace dat**. Normalizace dat pomáhá zabránit duplicity a liší. Správa více indexy kontroly pro referenční integritu, provádění více přístupy malé bloky dat a připojení tabulkách sestavit data však ukládá režijních, který může ovlivnit výkon. Zvažte, pokud některé další úložiště hlasitost a duplikace přijatelné snížit zatížení na úložiště. Zvažte také pokud samotnou aplikaci (což je obvykle snadněji měřítko) můžete uloženo za účelem převzít řízení úloh, jako je Správa referenční integrity snížit zatížení na úložiště. Další informace najdete v tématu [rozdělení pokyny dat](https://github.com/mspnp/azure-guidance/blob/master/Data%20partitioning.md).

## <a name="service-implementation"></a>Implementaci služby
- **Použití asynchronní volání**. Používejte asynchronní kód kdykoli je to možné v případě přístupu k zdrojů nebo služby, které může být omezený vstupu a výstupu nebo šířka pásma nebo který výrazná latence a zabránit tak uzamčení volání vlákna. Provádět operace asynchronní pomocí [Založeným na úkolech asynchronní vzorek (klepněte na)](https://msdn.microsoft.com/library/hh873175.aspx).
- **Zabránit blokování zdrojů a použijte optimistické přístup**. Nikdy lock přístup ke zdrojům, jako je třeba úložiště nebo jiných služeb, které mají výrazná latence, protože je primární příčinou nízké výkonu. Vždy používejte optimistické postupů správu souběžné operací, jako je psaní k základnímu úložišti. Použití funkce vrstvy úložiště ke správě konflikty. Distribuované aplikace pravděpodobně jenom postupně konzistentní dat.
- **Komprimovat vysoce Komprimovatelné data nad vysokou latencí, úzké šířce pásma sítě**. Ve většině případů ve webové aplikaci je největší objemu dat generovaný aplikací a předávají funkcím v síti HTTP odpovědi na žádosti klienta o. Komprese HTTP můžete snížit tím značně především na statický obsah. To můžete snížit náklady stejně jako snížení zatížení sítě, když fractionally vyšší zatížení použít komprese dynamického obsahu na serveru. V další, generalized prostředí komprese dat můžete snížit množství dat přenášené informace a minimalizace přenos čas a náklady, ale procesy komprese a dekomprese vzniknou režijních. Jako takové komprese lze používat pouze v případě prokazatelný zvýšení výkonu. Jiné metody serializace, například JSON nebo binární kódování může zmenšení datové při mají menší dopad na výkon, že XML je pravděpodobně zvětšit.
- **Minimalizovat údaj o čase, připojení a zdroje se používají**. Dokud je potřeba používat k zachování připojení a zdroje pouze pro. Například, co nejpozději otevřete připojení a mohly být vrácen fond připojení co nejdříve. Co nejpozději možné získat prostředky a vyřadit z nich co nejdříve.
- Je **potřeba minimalizovat počet připojení**. Připojení služby zachycení zdroje. Omezte na číslo, které jsou potřeba a ujistěte se, že jsou kdykoli je to možné použití existující připojení. Například po provedení ověřování, použijte zosobnění spustit kód konkrétní identitu. To vám může nejlepší využívat fond připojení opětovným připojení.

    > [AZURE.NOTE]: APIs for some services automatically reuse connections, provided service-specific guidelines are followed. It's important that you understand the conditions that enable connection reuse for each service that your application uses.

- **Odeslání žádosti o po dávkách optimalizovat sítě**. Například odeslat číst zprávy v dávkách při přístupu k fronty a zastupování více čtení nebo zápisy dávky při přístupu k ukládání nebo mezipaměti. To může pomoci maximalizovat efektivity úložiště služby a data tak, že omezit tak počet volání v síti.
- **Nepoužívejte žádost o uložení stavu serverovou relace** případného. Správa stavu serverovou relace obvykle vyžaduje spřažení (který směruje každý požadavek na stejné instanci serveru), které ovlivňuje schopnost systému měřítko. Měli byste ideálním případě navrhnout klientům být příslušnosti vzhledem k serverům, které používají. Ale pokud aplikace vedou stav relace, obsahují citlivá data nebo velké objemy dat jednoho klienta v distribuované mezipaměti straně serveru, které mají přístup k všechny instance aplikace.
- **Optimalizace schémata úložiště tabulek**. Při použití ukládá tabulky, které vyžadují názvy tabulek a sloupců předaný a zpracována s každý dotaz, jako je třeba úložiště tabulek Azure, zvažte použití kratší názvy ke snížení tento režijních. Však není zabere čitelnost nebo správy pomocí příliš kompaktní názvů.
- **Použití úkolů paralelní knihovny (TPL) k provádění operací, asynchronní**. TPL usnadňuje asynchronní kódu, který provádí operace můžu/O-mez. Využívat _ConfigureAwait(false)_ kdekoli odstranila závislost pokračování v kontextu určité synchronizace. Sníží pravděpodobnost výskytu vlákna zablokování.
- **Vytvoření zdroje závislosti během nasazení nebo při spuštění aplikace**. Vyhněte se opakovaná volání metody, které testování existenci zdroje a potom vytvořit zdroj, pokud není k dispozici. (Metody například _CloudTable.CreateIfNotExists_ a _CloudQueue.CreateIfNotExists_ v knihovně Azure úložiště klienta podle tohoto vzoru). Těchto postupů můžete ukládat značné nároky, pokud jsou vyvolat před každý přístup k úložišti tabulek nebo fronty úložiště. Místo toho:
 - Vytvoření požadovaných zdrojů při nasazení aplikace nebo při prvním spuštění (jednoho volání _CreateIfNotExists_ pro jednotlivé zdroje v kódu při spuštění webu nebo pracovního rolí je možné). Nezapomeňte však zpracování výjimek, které může dojít, pokud váš kód pokusí o přístup k prostředku, který neexistuje. V těchto situacích by měl protokolování výjimky a případně upozornění operátor, kdy je zdroj chybí.
 - V některých případech může být vhodné vytvořit chybějící zdroje jako část kódu pro zpracování výjimek. Ale tento přístup opatrně má přijmout, které není existenci zdroje můžou být orientační programovací chyby (názvu chybně napsané zdroje například) nebo nějaký jiný problém infrastruktury úroveň.
- **Použití zjednodušené rámce**. Zvolte pečlivě rozhraní API a rámce, které používáte k minimalizaci času spuštění, celkové zatížení aplikace a používání zdrojů. Použití rozhraní API webových zpracování servisních požadavků můžete omezit stopu aplikace a Zrychlete spuštění ale nemusí být vhodné pro pokročilé scénáře, které jsou potřeba další možnosti Windows Communication Foundation.
- **Vezměte v úvahu minimalizace počtu účtů služeb**. Příklad použití konkrétní účtu při přístupu k prostředkům nebo služby, které omezení na připojení a provedení lepší, kde jsou zachovány méně připojení. Tento přístup je běžné služeb, jako je databáze, ale může ovlivnit možnost přesně auditování operací kvůli zosobnění původní uživatele.
- **Provádět vytváření profilů výkonu a testování zatížení** průběhu vývoje v rámci Testovací rutiny a před konečnou zajistit, že provede aplikace a škály podle potřeby. Tento test by měla proběhnout stejného typu hardwaru jako platformu výrobní a s stejné typy a množství dat a uživatel zavede se setkáte v výroby. Další informace najdete v tématu [Testování výkonu do cloudové služby](vs-azure-tools-performance-profiling-cloud-services.md).
