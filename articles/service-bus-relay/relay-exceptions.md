<properties 
    pageTitle="Předávání zpráv výjimky | Microsoft Azure"
    description="Seznam Relay výjimky a navrhované akce."
    services="service-bus"
    documentationCenter="na"
    authors="jtaubensee"
    manager="timlt"
    editor="tysonn" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/28/2016"
    ms.author="jotaub" />

# <a name="relay-exceptions"></a>Předávací výjimky

Tento článek uvádí několik výjimek generovaných rozhraní API Microsoft Azure Relay. Tento odkaz se mohou měnit, takže sledujte další aktualizace.

## <a name="exception-categories"></a>Výjimky kategorie

Rozhraní API Relay generovat výjimek, které můžete rozdělit do těchto kategorií, spolu s přidružená akce, kterými můžete zkusit vyřešit.

1.  Uživatel kódování chyby ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [Výjimka System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx) [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Obecné akce: řešení případných kód pokračovat.

2.  Chyba instalace a konfigurace ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Obecné akce: Zkontrolujte konfiguraci a v případě potřeby změňte.

3.  Přechodné výjimky ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx) [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Obecné akce: opakujte nebo informujte uživatele.

4.  Další výjimky ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx) [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Obecné akce: specifické pro typ výjimky; získáte v tabulce v následující části. 

## <a name="exception-types"></a>Typy výjimek

Následující tabulka uvádí typy zpráv výjimek a jejich příčin a poznámky navrhovaná akce, které můžete provést.

| **Typ výjimky**                                                                                                                                                                                                                                                                                | **Popis/příčina/příklady**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Navrhovaná akce**                                                                                                                                                                                                                                                                                                                                                                                                          | **Poznámka na automatické/okamžité opakování**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | Server neodpovídají na operaci v určeném čase, který je kontrolován [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx). Server může dokončili požadovanou operaci. K tomu může dojít kvůli sítě nebo jiných infrastruktury zpoždění.                                                                                                                                                                                                                                                                   | Kontrola stavu systému konzistenci a opakujte podle potřeby. V tématu [vypršení časového limitu výjimky](#timeoutexception).                                                                                                                                                                                                                                                                                                                                                           | Opakovat přehledně zobrazeny v některých případech; Přidání logiky opakovat kódu.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | Operace požadovaného uživatele není povoleno server nebo službu. Zobrazit zpráva o výjimce podrobnosti. Například [Dokončeno](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) vygeneruje tato výjimka, pokud zpráva byla přijata v režimu **ReceiveAndDelete** .                                                                                                                                                                                                                                                                                                     | Kontrola kód a dokumentaci. Zkontrolujte, že požadovaná operace není platný.                                                                                                                                                                                                                                                                                                                                         | Opakovat nepomůže.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Je pokus o spustit operaci na objekt, který již byly zavřené, přerušena nebo odstraněny. V některých případech okolního transakce už odstraněny.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Zkontrolujte kód a ujistěte se, že že není vyvolat operace vyřazený objektu.                                                                                                                                                                                                                                                                                                                                          | Opakovat nepomůže.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | Objekt [Poskytovatel TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) nešlo získat token, tokenu je neplatný nebo tokenu neobsahuje deklarací potřebná k provedení operace.                                                                                                                                                                                                                                                                                                                                                                                                  | Zkontrolujte, že poskytovatel tokenu se vytvoří pomocí správné hodnoty. Kontrola konfigurace služby Řízení přístupu.                                                                                                                                                                                                                                                                                                   | Opakovat přehledně zobrazeny v některých případech; Přidání logiky opakovat kódu.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Jeden nebo více argumentů předán metodu jsou neplatné.<br /> Identifikátor URI předán [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) nebo [vytvořit](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) obsahuje segment(s) cestu.<br /> Schéma URI předán [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) nebo [vytvořit](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) je neplatný. <br />Hodnota vlastnosti je větší než 32KB. | Zkontrolujte, volající kód a zkontrolujte, jestli že jsou argumenty správné.                                                                                                                                                                                                                                                                                                                                                           | Opakovat nepomůže.                                                                                                          |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Služba není možné zpracovat žádosti v současné době.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Klient můžete čekat určitého časového období a pak opakujte.                                                                                                                                                                                                                                                                                                                                                           | Klient může opakovat po určité době. Pokud opakování výsledkem různých výjimek, zkontrolujte chování tato výjimka opakování. |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | Zasílání zpráv entity dosáhla maximální povolenou velikost.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Po přijetí zprávy z entitu nebo frontách dílčí udělat víc místa entity. V tématu [QuotaExceededException](#quotaexceededexception).                                                                                                                                                                                                                                                                                                                                      | Opakovat by pomoci, pokud zprávy mohly být odebrány mezitím.                                                               |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Datová část zprávy překračuje limit 256 kB. Všimněte si, že 256 k limit celková velikost zpráv, které může obsahovat vlastnosti systému a všechny režijních .NET.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Zmenšení velikosti datové zprávu a pak opakujte.                                                                                                                                                                                                                                                                                                                                                         | Opakovat nepomůže.                                                                                                          |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) označuje překročení kvóty pro konkrétní entity.

Tato výjimka Relay, zalamuje [System.ServiceModel.QuotaExceededException](https://msdn.microsoft.com/library/system.servicemodel.quotaexceededexception.aspx), která označuje, že byla překročena maximální počet posluchače pro tento koncový bod. To je uvedeno v **MaximumListenersPerEndpoint** přínosu zpráva o výjimce.

## <a name="timeoutexception"></a>TimeoutException 

[TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) označuje, že operace inicializovaný uživatelem trvá delší než časový limit operace. 

Měli byste zkontrolovat hodnotu vlastnost [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit) jako zasažení této limit mohou také příčinu a [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx).

Relay může dojít vypršení časového limitu výjimky při prvním otevírání připojení relay odesílatele. Jsou dva běžné příčiny pro tuto výjimku:

1. Hodnotu [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) můžou být moc malé (i zlomek sekundy).
2. Předávací listener(s) místní nemusí být neodpovídá (nebo narazit na problémy s pravidly brány firewall zakazují posluchače příjem nových připojení klientů) a [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) hodnota je menší než o 20 sekund.

Příklad:

```
'System.TimeoutException’: The operation did not complete within the allotted timeout of 00:00:10. The time allotted to this operation may have been a portion of a longer timeout.
```

### <a name="common-causes"></a>Běžné příčiny

Jsou dva běžné příčiny této chyby: nesprávná konfigurace nebo Chyba přechodná služby.

1. **Nesprávná konfigurace** 
    časový limit operace můžou být moc malé provozní podmínky. Výchozí časový limit operace v klientovi SDK hodnotu 60 sekund. Zkontrolujte, zda kódu má hodnotu nastavený na něco příliš malá. Všimněte si, že stav sítě a využití procesoru může ovlivnit dobu potřebnou pro určité operace, dokončete tak časový limit operace nemá být nastavena na hodnotu příliš malý.

2. **Chyba přechodná služby** 
    Relay někdy může dojít zpoždění při zpracování žádostí o; například obdobích vysoké provoz. V takovém případě můžete operaci zpožděním opakovat, dokud je operace úspěšně. Jestliže stejnou operaci stále po několika pokusech, navštivte [Web stav služby Azure](https://azure.microsoft.com/status/) zobrazíte, pokud jsou všechny výpadků známé služby.

## <a name="next-steps"></a>Další kroky:

- [Předávací časté otázky](relay-faq.md)
- [Vytvořit obor názvů](relay-create-namespace-portal.md)
- [Začínáme s .NET](relay-hybrid-connections-dotnet-get-started.md)
- [Začínáme s uzel](relay-hybrid-connections-node-get-started.md)