<properties
   pageTitle="Kontrolní seznam dostupnost | Microsoft Azure"
   description="Kontrolní seznam, který obsahuje pokyny k dostupnost pochybnosti průběhu návrhu."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Kontrolní seznam dostupnosti

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Návrh aplikace

- **Vyhněte se libovolný jeden bod selhání.** Všechny komponenty služby, zdroje a výpočetním instance by měly být nasazeny jako několika instancích spuštěných zabráníte došlo k ovlivnění dostupnost selhání v jednom místě. Jedná se o metody ověřování. Návrh, která dokáže nahradit používat více instancí k automatické zjišťování chyb a přesměrování požadavků na místo, kam platformu nedělá to automaticky – nepodařilo instance aplikace.
- **Rozložit pracovní zátěž za jiné smlouvy úrovni služeb.** Pokud do služby se skládá z menší kritické úloh, Správa jinak a zadejte funkce služby a počet výskytů požadavků jejich dostupnost.
- **Minimalizace a chápete závislostí služby.** Minimalizace počet různých službách možných a zrušte zaškrtnutí srozumitelný všechny funkce a služba závislosti, které jsou v systému. To zahrnuje přírodní tyto závislosti a jejich dopad selhání nebo snížit výkon postupně na všechny aplikace. Microsoft zaručuje aspoň, že 99,9 procent dostupnost pro většinou služeb, ale to znamená, že každý další služby, kterou aplikaci závisí na potenciálně zmenší celkové dostupnosti SLA systému procent 0,1.
- **Navrhnout úkoly a zprávy jako idempotent (bezpečně opakující), pokud je to možné**, tak, aby, duplicitní žádosti o nebude způsobit problémy. Služba můžete například představovat příjemce, která zajišťuje posílané jako žádosti o jiné části systému, které fungují jako výrobci. Pokud příjemce selže, po zpracování zprávy, ale dříve, než potvrdil, že byl zpracován, výrobce může odesláním opakování žádosti o která může zpracována jinou instancí aplikace příjemce. Z tohoto důvodu, které se zobrazují koncovým a provádět operace musí být idempotent tak, aby opakující se dříve provedení operace nezobrazuje výsledky neplatné. To znamená zjištění duplicitní zprávy nebo zajistit soulad s použitím optimistické přístup ke konfliktu.
- **Pomocí zprostředkovatele zprávy, implementující dostupnost pro kritické transakce.** Mnoho scénářů k zahájení úkolů nebo služby vzdáleného přístupu k použít k předání pokyny mezi aplikací a služeb cílové zasílání zpráv. Nejlepších výsledků dosáhnete třeba aplikace odeslat zprávu a vraťte se do zpracovávat požadavky na další, bez nutnosti čekání na odpověď. Chcete-li zajistit doručování zpráv, zasílání zpráv systému by měl obsahovat dostupnost. Azure fronty zpráv služby Bus implementace sémantiku _aspoň jednou_ . To znamená, že každá zpráva odeslala do fronty neztratí, i když duplicitní kopie mohou být doručena za určitých okolností. Pokud je zpráva zpracování idempotent (viz na předchozí položku), opakuje doručení by neměly být problém.
- **Návrh aplikací řádně snížit** při dosažení omezení zdrojů a opět převzít odpovídající akce minimalizovat vliv uživatele. V některých případech zatížení aplikace nesmí překročit kapacita jednu nebo více částí, které jsou příčinou omezenou dostupností a se nezdařilo připojení. Zmírnění to škálování vám může, ale může dosáhnout omezení jiných faktorů, například dostupnosti zdrojů nebo náklady. Tak, aby v takovém případě ho můžete automaticky snížit řádně návrhu aplikace. Například v systému ecommerce, pokud podsystém zpracování objednávek ve skupinovém rámečku namáhání (nebo dokonce selže úplně), je možné ho dočasně zakázat zároveň další funkce (například procházení katalogu produktů) pokračovat. Může být vhodné odložit žádosti o selhání systému, například pořád povolení zákazníci můžou odeslat objednávky, ale uložení pro pozdější zpracování při podsystém objednávky neexistuje znovu.
- **Řádně zpracovávejte rychlé požadavků události.** Většina aplikací nutné zpracovat odlišnými úloh určitou dobu, například píků nejdřív thing v během dopoledních hodin v aplikaci business nebo při uvolnění nového produktu v kolekci webů pro ecommerce. Automatické měřítko pomáhají řešit načíst, ale může trvat delší dobu další instance přechodu do online a zpracování žádostí o. Zabránit neunavily aplikace náhlé a neočekávané roztržení aktivity: návrh do fronty žádosti o služby používá a snížit řádně dokončení fronty blízkosti úplné kapacity. Zajistěte, aby byl tam dostatečné výkonu a kapacity k dispozici není požadavků podmínek a vyprázdnit frontách zvládnout nevyřízených požadavků. Další informace najdete v tématu [fronty základě vzorku vyrovnání načíst](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Nasazení a údržba

- **Nasazení více instancí role pro každou službu.** Společnost Microsoft neposkytuje záruky dostupnost pro služby, které můžete vytvořit a nasadit, ale tyto záruky platí jenom při nasazování nejméně dvě instance jednotlivé role ve službě. Díky rolí je k dispozici, zatímco druhému zůstane aktivní. Co je důležité zejména v případě potřeby instalovat aktualizace k živé systému bez přerušení aktivity klientů; instance můžete přijmout a upgradovat jednotlivě, zatímco ostatní pokračovat v online.
- **Host (hostitel) aplikace v několika datacentrech.** I když je velmi pravděpodobné, je možné pro celou datacentra práci offline prostřednictvím zvláštní události jako je přírodní katastrofě nebo selhání Internetu. Zásadní podnikových aplikací by měly být hostované ve víc než jednom datacentru k poskytování maximální dostupnosti. To můžete zmenšit latence místních uživatelů a poskytují další příležitosti pružnost při aktualizaci aplikace.
- **Automatizace a otestujte úlohy nasazení a údržba.** Distribuované aplikace se skládají z více částí, které musí spolupracovat. Nasazení by měl proto automatizovat, pomocí testované a osvědčené mechanismy například skripty a nasazení aplikace. Tyto můžete aktualizovat ověřte konfiguraci a automatizovat procesu nasazení. Technik automatizované také bude použito k provádění aktualizací celé nebo část aplikace. Je důležité, chcete-li otestovat všechny tyto procesy plně zajistit, že chyby nezpůsobí další prostoje. Všechny nástroje pro nasazení musí být vhodné zabezpečení omezení chránit nasazení aplikace; definování a pečlivě musí vynucovat nějaké zásady nasazení a minimalizovat potřebu zásahu člověka.
- **Zvažte použití funkce pracovní a výrobní platformy** kde jsou k dispozici. Například Azure Cloud Services pracovní a výrobní prostředí připojíte aplikací přepnout mezi sebou okamžitě prostřednictvím virtuální vyměňovat adresy IP (VIP odkládací). Ale podle potřeby fáze místní, nebo nasadit různé verze aplikace souběžně a postupně migrace uživatelů, nemusí budete moci VIP vyměňovat myší.
- **Použít změny konfigurace bez recyklace** instance, pokud je to možné. V mnoha případech lze změnit nastavení pro Azure aplikaci nebo službu bez nutnosti roli restartovat. Role vystavit událostí, ke kterým můžete přistupovat ke zjištění změny konfigurace a použít je součástí aplikace. Však některých změnách v nastavení platformy core nevyžadují role restartovat. Při vytváření součástí a služeb, jak dosáhnout maximální dostupnost a prostoje navržením je potvrďte změny nastavení konfigurace bez nutnosti použití jako celek restartovat.
- **Použití upgradu domén nula výpadku během aktualizací.** Azure vypočítat jednotky, jako jsou webové či pracovníka role přiřazených k upgradu domény. Upgrade domény seskupte role instance tak, aby při postupné aktualizace nastane, každou roli v upgradu domény zastaven a restartování zase aktualizace. To minimalizuje vliv na dostupnost aplikace. Můžete určit, kolik upgradu domény by měl vytvořené pro službu, při zavedení služby.

    > [AZURE.NOTE] Role jsou také rozvržena poruch domén, z nichž každá nezávisí prakticky z jiných poruch domén z hlediska regálů serveru, výkonné a chlazení poskytování, pokud chcete omezit možnost selhání vliv na všechny instance role. Automaticky objeví toto rozdělení a nemůže ovládat.

- **Konfigurace sady dostupnost pro Azure virtuálních počítačích.** Zaškrtnete dvě nebo více virtuálních počítačích ve stejném dostupnost sadu zaručuje, že tyto virtuálních počítačích nesmí být nasazené na tu samou doménu poruch. Maximalizovat dostupnost, by měl vytvořte více instancí každé důležité virtuální počítač používá systému a umístěte tyto instance stejnou sadu dostupnosti. Pokud používáte více virtuálních počítačích, které slouží k jiným účelům, vytvořte dostupné pro každého virtuálního počítače. Přidání výskyty virtuální počítače pro každou sadu dostupnosti. Pokud jste vytvořili samostatné virtuálních počítačích má fungovat jako na webový server a vytváření sestav serveru vytvořit dostupné nastavení webu a jiné dostupnost nastavení pro vytváření sestav serveru. Přidejte výskyty počítači webového serveru virtuální dostupnosti webového serveru a přidat instancí podřízenosti virtuálního počítače serveru podřízenosti dostupnost nastavení serveru.

## <a name="data-management"></a>Správa dat

- **Využití výhod replikace dat** prostřednictvím místní a zeměpisné redundance. Data v Azure úložiště je automaticky replikovat na ochrana před ztrátou když infrastruktury nepovede a některé aspekty tato replikace lze konfigurovat. Jen pro čtení kopie dat, například může replikovat ve víc zeměpisnou oblast (jako takzvaný globálně nadbytečné úložiště přístup pro čtení nebo Vzdálená pomoc GRS). Všimněte si, že pomocí Vzdálená pomoc GRS poněkud další poplatky. Podrobnosti najdete v tématu [Ceny úložiště Azure](https://azure.microsoft.com/pricing/details/storage/).
- **Použití optimistické souběžné a případné konzistence** případného. Transakce, můžete zablokování přístupu k prostředkům prostřednictvím uzamčení (pesimistické souběžné) způsobují špatnou výkonu a značně snížit dostupnosti. Těmto problémům může být někdy zejména kritický pak v distribuované systémy. V mnoha případech můžete minimalizovat šanci konfliktní aktualizace, které se vyskytují opatrní návrh a postupy například rozdělení. Pokud data je replikovat nebo čte z samostatně aktualizované úložiště, data budou pouze postupně konzistentní. Ale výhody obvykle úplně převažují nad jejich dopad na dostupnost pomocí transakce zajistit soulad okamžitě.
- **Použití pravidelných zálohování a obnovení v okamžiku**a zrušte zaškrtnutí splňuje cíle pro bod obnovení (operace RPO). Pravidelně automaticky obecnějším údajům data, která není zachována jinde a ověřte, jestli že můžete problémy se spolehlivým obnovit data a samotnou aplikaci by měla proběhnout se nepovede. Replikace dat není funkci zálohování, protože chyby a nekonzistence zavádí prostřednictvím škodlivým operace, chyby nebo selhání bude replikovat přes všechny stores. Proces zálohování musí být zabezpečený chránit data při přenosu šifrovaná a v úložišti. Databáze nebo součásti úložiště dat můžete obvykle obnovit předchozí bodu v čase pomocí transakce protokoly. Microsoft Azure poskytuje zálohovací zařízení dat uložených v databázi SQL Azure. Data exportu záložní zabalit v úložišti objektů blob Azure a zabezpečené místního místo pro ukládání se dají stáhnout.
- **Povolte funkci dostupnost udržovat sekundární kopii Azure Redis mezipaměti.** Při použití Azure Redis mezipaměti, vyberte standardní možnost spravovat sekundární kopii obsah. Další informace najdete v tématu [vytvoření mezipaměti v Azure Redis mezipaměti](https://msdn.microsoft.com/library/dn690516.aspx).

## <a name="errors-and-failures"></a>Chyby a chyby

- **Představte koncepci časový limit.** Přestane není k dispozici, které jsou příčinou selhání žádosti o služby a zdroje. Zajištění vhodné pro každou službu nebo zdroje časové limity můžete použít i klienta, který je přístupu k nim. (V některých případech bude třeba povolit delšího časového limitu pro konkrétní instanci klienta, v závislosti kontextu a další věci, které provádíte klienta.) Krátké časové limity tuto chybu může způsobovat nadbytečné opakovat operace pro služby a zdroje, které mají značné latence. Velmi dlouhý časové limity mohou způsobit blokování Pokud jsou ve frontě velký počet požadavků, čeká se služby nebo prostředku reagovat.
- **Opakujte selhalo operace způsobená přechodná chyby.** Návrh opakovat strategie pro přístup ke všem službám a opakujte zdroje, kde jsou nepodporují automatické připojení. Použití strategie obsahující rostoucí zpoždění mezi opakování jako počtu selhání zvýšení, kvůli kterým přetížení zdroje a umožníte řádně obnovit a zpracovávat požadavky ve frontě. Nepřetržitý opakování s krátkou zpoždění mívají zesilovat problém.
- **Zastavit odesílání požadavky na vyhnout CSS selhání** při vzdálené nejsou k dispozici. Může nastat situace, ve kterých trvat déle než očekáváte se vrátíte do normálního přechodové nebo jiné chyby rozsahu v závažnosti z částečné ztrátě připojení k dokončení selhání do služby. Kromě toho služba je velmi zaneprázdněn, Chyba instalace v jedné části systému může vést k CSS selhání a z důvodu v mnoha operací stále blokované podržíte na kritické systémové prostředky například paměti, podprocesů a připojení k databázi. Místo neustále opakování operaci, která je pravděpodobně úspěšné, by měl aplikace rychle potvrďte, že operace selže a řádně zpracovat tato chyba. Dělení okruh vzorek umožňuje odmítnout požadavky pro konkrétní operace pro definované období. Další podrobnosti najdete v tématu [Okruh dělení vzorku](https://msdn.microsoft.com/library/dn589784.aspx).
- **Vytváření nebo podzim zpátky do více součástí** zmírnit dopad konkrétní službu je offline nebo nedostupný. Navrhování aplikací umožní využít výhod několika instancích spuštěných bez ovlivňující operace a existující připojení, pokud je to možné. Použití několika instancích spuštěných distribuce žádosti o mezi nimi, zjišťování a vyhněte se odesílání žádosti o nezdařeném uložení instancí maximalizovat dostupnost.
- **Spadají do jiné službě nebo pracovního postupu** případného. Například když zápis k SQL databázi nepovede, dočasně ukládání dat v úložišti objektů blob. Zadejte zařízení k přehrání zápisy v úložišti objektů blob k SQL databázi, až bude službu dostupný. V některých případech může mít neúspěšné operace alternativní akci, která umožňuje aplikaci pokračovat v práci, i když komponenty nebo službu se nezdaří. Pokud je to možné zjišťování chyb a přesměrovat žádosti o dalších službách, které můžou nabízet vhodné alternativní funkce nebo obecnějším údajům nebo omezená funkčnost instance, které můžete udržovat základní operace primární služby je režimu offline.

## <a name="monitoring-and-disaster-recovery"></a>Sledování a havárie obnovení

- **Formátovaný přístrojového vybavení poskytovat pro pravděpodobně chyb a chybové události** situaci pracovníkům operace nahlásit. Chyby, je pravděpodobné, že ale dosud nebyly došlo k, poskytnout dostatečné údaje pro povolení personálu zjistit příčinu, zmírnění situaci a zrušte zaškrtnutí systému zůstávají k dispozici. Chyby, které proběhly by měl aplikace vrátí odpovídající chybová zpráva uživateli a pokusíte se pokračovat systém, i když omezená funkčnost. Ve všech případech by měl systém sledování zachytit úplné podrobnosti povolit personálu k ovlivnění snadné obnovení a v případě potřeby pro návrhářů a vývojáři k úpravě systému předejít situaci vzniku znovu.
- **Monitorování stavu systému implementací kontroly funkcí.** Zdraví a výkonu aplikace můžete snížit určitou dobu, aniž byste byli nápadnější, dokud se nezdaří. Implementace sond nebo zaškrtněte funkce, které jsou proveden pravidelně mimo aplikaci. Tyto kontroly můžou skládat například měření doba odezvy aplikace jako celek, jednotlivé části aplikace, jednotlivých službách, které používá aplikaci nebo jednotlivé součásti. Kontrola funkcí lze spustit postupů jsou platné výsledky změřit latence a kontrola dostupnosti a extrahovat informace ze systému.
- **Pravidelně vyzkoušet všechny převzetí a náhradních systémy** ověřit, jsou k dispozici a pracovat podle očekávání. Změny systémy a operace může ovlivnit převzetí a náhradních funkcí, ale dopad nemusí zjišťování, dokud hlavní systémové dojde k chybě nebo změní přetížené. Vyzkoušejte předtím, než je potřeba pro živou problém za běhu.
- **Testování systému sledování.** Automatické převzetí a náhradních systémů a ruční vizualizace stavu systému a výkonu pomocí tabulí, všechny závisí na sledování a přístrojového vybavení správně funguje. Pokud tyto prvky nezdaří, paní důležitých informací, nebo sestavu nesprávná data, operátor nemusí třeba si uvědomit, že je chybná nebo selhání systému.
- **Sledování průběhu dlouhé spuštěné pracovní postupy** a opakování selhání. Dlouhé spuštěné pracovní postupy se často skládající se ze několik kroků. Přesvědčte se, že každý krok je nezávislý a můžete minimalizovat riziko celý pracovního postupu, musí vrátit zpět opakované nebo že více zušlechtěných transakce musí provést. Sledování a Správa průběhu dlouhé spuštěné pracovní postupy implementací vzorek například [Plánovač Agent správce vzorku](https://msdn.microsoft.com/library/dn589780.aspx).
- **Plánování využití havárie.** Ujistěte se, že je k dispozici dokumentovaného přípustném a plně testované plán pro obnovení z jakéhokoli typu selhání, které se můžou vykreslovat část nebo celý hlavní systému. Pravidelně kontroluje postupy a zrušte zaškrtnutí všech pedagogů operace procesu znají.
